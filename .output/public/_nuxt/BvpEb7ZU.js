import{u as S}from"./B0bbR52k.js";import{u as G}from"./BiQ2uiMo.js";import{u as A}from"./WqLqjLwc.js";import{d as R,x as P,y as l,z as n,A as a,G as p,I as e,Y as U,Z as D,B as m,_ as L}from"./Cp2SN3y2.js";const N={class:"leaderboard-page"},w=["src"],E=["src"],F={class:"container"},I={class:"title-container animate-fade-in"},O=["src"],z=["src"],H={class:"leaderboard-list-container animate-scale-in"},K={class:"leaderboard-list"},V={class:"rank-badge"},M=["src","alt"],T=["src"],W={key:2,class:"rank-number"},Y={class:"player-info"},Z={class:"avatar-container"},j=["src","onClick"],q=["aria-label","onClick"],x={class:"player-name"},J={class:"score-display"},Q=["src"],X={class:"score-value"},aa=["src"],ea={class:"scroll-bar"},sa=["src"],ta=["src"],ra={key:0,class:"game-complete-message animate-fade-in"},oa={class:"complete-text"},la=["src"],na=R({__name:"leaderboard",setup(ca){const{baseUrl:s,toast:i,t:_}=S(),{goHome:u,goToRoundStart:k}=G(),{gameStore:b,leaderboard:f,isGameCompleted:g}=A(),y=()=>{u()},$=async()=>{g.value?(await b.endGame(),u()):k()},C=c=>c.avatar||`${s}assets/leaderboard/tobi.png`,h=c=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",t.onchange=async o=>{const r=o.target.files?.[0];if(r){if(!r.type.startsWith("image/")){i.error(_("leaderboard.invalid_image","Please select a valid image file"));return}if(r.size>2*1024*1024){i.error(_("leaderboard.image_too_large","Image must be smaller than 2MB"));return}try{const d=new FileReader;d.onload=async B=>{const v=B.target?.result;v&&(await b.updatePlayerAvatar(c.id,v),i.success(_("leaderboard.avatar_updated","Avatar updated successfully!")))},d.readAsDataURL(r)}catch{i.error(_("leaderboard.avatar_error","Failed to update avatar. Please try again."))}}},document.body.appendChild(t),t.click(),document.body.removeChild(t)};return P({title:"Leaderboard",meta:[{name:"description",content:"Game leaderboard"}]}),(c,t)=>(n(),l("div",N,[a("img",{src:`${e(s)}assets/leaderboard/BACKGROUND.png`,alt:"Background",class:"page-bg"},null,8,w),e(g)?p("",!0):(n(),l("button",{key:0,class:"back-btn tap-highlight no-select",onClick:y},[a("img",{src:`${e(s)}assets/leaderboard/back.png`,alt:"Back"},null,8,E)])),a("div",F,[a("div",I,[a("img",{src:`${e(s)}assets/leaderboard/leaderbpard.png`,alt:"Leaderboard",class:"title-image"},null,8,O),a("img",{src:`${e(s)}assets/leaderboard/ranking.png`,alt:"Ranking",class:"ranking-image"},null,8,z)]),a("div",H,[a("div",K,[(n(!0),l(U,null,D(e(f),(o,r)=>(n(),l("div",{key:o.id,class:"leaderboard-item"},[a("div",V,[r<5?(n(),l("img",{key:0,src:`${e(s)}assets/leaderboard/${r+1}.png`,alt:`Rank ${r+1}`,class:"rank-image"},null,8,M)):(n(),l("img",{key:1,src:`${e(s)}assets/leaderboard/s.png`,alt:"Rank",class:"rank-image"},null,8,T)),r>=5?(n(),l("span",W,m(r+1),1)):p("",!0)]),a("div",Y,[a("div",Z,[a("img",{src:C(o),alt:"Player",class:"player-avatar",onClick:d=>h(o)},null,8,j),a("button",{class:"avatar-change-btn","aria-label":`Change avatar for ${o.name}`,onClick:d=>h(o)},[...t[0]||(t[0]=[a("span",{class:"avatar-change-icon"},"ðŸ“·",-1)])],8,q)]),a("span",x,m(o.name),1)]),a("div",J,[a("img",{src:`${e(s)}assets/leaderboard/500.png`,alt:"Score",class:"score-icon"},null,8,Q),a("span",X,m(o.totalScore),1)]),a("img",{src:`${e(s)}assets/leaderboard/Group 8.png`,alt:"Decoration",class:"item-decoration"},null,8,aa)]))),128))]),a("div",ea,[a("img",{src:`${e(s)}assets/leaderboard/scroll bar.png`,alt:"Scroll bar",class:"scroll-bg"},null,8,sa),a("img",{src:`${e(s)}assets/leaderboard/screoll.png`,alt:"Scroll handle",class:"scroll-handle"},null,8,ta)])]),e(g)?(n(),l("div",ra,[a("p",oa,m(c.$t("leaderboard.game_complete","Game Complete!")),1)])):p("",!0),a("button",{class:"ok-btn tap-highlight no-select animate-slide-up",onClick:$},[a("img",{src:`${e(s)}assets/leaderboard/ok.png`,alt:"OK"},null,8,la)])])]))}}),ga=L(na,[["__scopeId","data-v-97677838"]]);export{ga as default};
