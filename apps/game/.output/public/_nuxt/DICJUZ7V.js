import{u as S}from"./CAiwMZCU.js";import{u as A}from"./B5AQurGQ.js";import{u as G}from"./C202RNzR.js";import{d as R,x as L,y as l,z as n,A as a,M as p,N as e,a1 as N,a2 as P,B as m,J as U,_ as D}from"./ZWM7LZrB.js";import"./COAuIF2k.js";const E={class:"leaderboard-page"},w=["src"],F=["src"],O={class:"container"},z={class:"title-container animate-fade-in"},H=["src"],I=["src"],K={class:"leaderboard-list-container animate-scale-in"},M={class:"leaderboard-list"},V={class:"rank-badge"},J=["src","alt"],T=["src"],W={key:2,class:"rank-number"},j={class:"player-info"},q={class:"avatar-container"},x=["src","onClick"],Q=["aria-label","onClick"],X={class:"player-name"},Y={class:"score-display"},Z=["src"],aa={class:"score-value"},ea=["src"],sa={class:"scroll-bar"},ta=["src"],ra=["src"],oa={key:0,class:"game-complete-message animate-fade-in"},la={class:"complete-text"},na=["src"],ca=R({__name:"leaderboard",setup(da){const{baseUrl:s,toast:i,t:g}=S(),{goHome:u,goToRoundStart:f}=A(),{gameStore:b,leaderboard:y,isGameCompleted:_}=G(),$=()=>{u()},C=async()=>{_.value?(await b.endGame(),u()):f()},B=d=>d.avatar||`${s}assets/leaderboard/tobi.png`,h=d=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none",t.onchange=async o=>{const r=o.target.files?.[0];if(r){if(!r.type.startsWith("image/")){i.error(g("leaderboard.invalid_image","Please select a valid image file"));return}if(r.size>2*1024*1024){i.error(g("leaderboard.image_too_large","Image must be smaller than 2MB"));return}try{const c=new FileReader;c.onload=async v=>{const k=v.target?.result;k&&(await b.updatePlayerAvatar(d.id,k),i.success(g("leaderboard.avatar_updated","Avatar updated successfully!")))},c.readAsDataURL(r)}catch(c){U().error("Error updating avatar:",c),i.error(g("leaderboard.avatar_error","Failed to update avatar. Please try again."))}}},document.body.appendChild(t),t.click(),document.body.removeChild(t)};return L({title:"Leaderboard",meta:[{name:"description",content:"Game leaderboard"}]}),(d,t)=>(n(),l("div",E,[a("img",{src:`${e(s)}assets/leaderboard/BACKGROUND.png`,alt:"Background",class:"page-bg"},null,8,w),e(_)?p("",!0):(n(),l("button",{key:0,class:"back-btn tap-highlight no-select",onClick:$},[a("img",{src:`${e(s)}assets/leaderboard/back.png`,alt:"Back"},null,8,F)])),a("div",O,[a("div",z,[a("img",{src:`${e(s)}assets/leaderboard/leaderbpard.png`,alt:"Leaderboard",class:"title-image"},null,8,H),a("img",{src:`${e(s)}assets/leaderboard/ranking.png`,alt:"Ranking",class:"ranking-image"},null,8,I)]),a("div",K,[a("div",M,[(n(!0),l(N,null,P(e(y),(o,r)=>(n(),l("div",{key:o.id,class:"leaderboard-item"},[a("div",V,[r<5?(n(),l("img",{key:0,src:`${e(s)}assets/leaderboard/${r+1}.png`,alt:`Rank ${r+1}`,class:"rank-image"},null,8,J)):(n(),l("img",{key:1,src:`${e(s)}assets/leaderboard/s.png`,alt:"Rank",class:"rank-image"},null,8,T)),r>=5?(n(),l("span",W,m(r+1),1)):p("",!0)]),a("div",j,[a("div",q,[a("img",{src:B(o),alt:"Player",class:"player-avatar",onClick:c=>h(o)},null,8,x),a("button",{class:"avatar-change-btn","aria-label":`Change avatar for ${o.name}`,onClick:c=>h(o)},[...t[0]||(t[0]=[a("span",{class:"avatar-change-icon"},"ðŸ“·",-1)])],8,Q)]),a("span",X,m(o.name),1)]),a("div",Y,[a("img",{src:`${e(s)}assets/leaderboard/500.png`,alt:"Score",class:"score-icon"},null,8,Z),a("span",aa,m(o.totalScore),1)]),a("img",{src:`${e(s)}assets/leaderboard/Group 8.png`,alt:"Decoration",class:"item-decoration"},null,8,ea)]))),128))]),a("div",sa,[a("img",{src:`${e(s)}assets/leaderboard/scroll bar.png`,alt:"Scroll bar",class:"scroll-bg"},null,8,ta),a("img",{src:`${e(s)}assets/leaderboard/screoll.png`,alt:"Scroll handle",class:"scroll-handle"},null,8,ra)])]),e(_)?(n(),l("div",oa,[a("p",la,m(d.$t("leaderboard.game_complete","Game Complete!")),1)])):p("",!0),a("button",{class:"ok-btn tap-highlight no-select animate-slide-up",onClick:C},[a("img",{src:`${e(s)}assets/leaderboard/ok.png`,alt:"OK"},null,8,na)])])]))}}),ua=D(ca,[["__scopeId","data-v-13198168"]]);export{ua as default};
