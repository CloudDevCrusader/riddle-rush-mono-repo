#!/bin/sh
cd guess-game-nuxt-pwa || exit 0

echo "Running pre-push checks..."

# Check for secrets (double-check before push)
echo "Scanning for secrets..."
chmod +x scripts/check-secrets.sh
./scripts/check-secrets.sh || exit 1

# Run type check
echo "Type checking..."
npm run typecheck || exit 1

# Run unit tests
echo "Running unit tests..."
npm run test:unit || exit 1

echo "Pre-push checks passed!"
